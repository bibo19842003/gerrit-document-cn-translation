# non-fast forward

如果本地的新 commit 不是基于服务器端最新的节点生成的，那么向服务器直接 push 的时候，会报此错误。

如果 non-fast forward 更新成功的话，那么服务器端的 commit 会被本地的 commit 覆盖掉，服务器端比本地多的 commit 将被移除。因此 git 默认拒绝 non-fast forward 方式的更新。

同样，直接向 gerrit 服务器 push 的时候（不走评审流程），也会报此错误。

下面是导致错误的可能的原因：

 * 在本地开发的同时，服务器端的代码有更新，导致本地的代码不是基于最新状态开发的。
 * 错误的推送到了其他的 project


## 在本地开发的同时，服务器端的代码有更新，导致本地的代码不是基于最新状态开发的

开发人员 A 基于服务器端最新的代码准备修复一个 bug，稍后开发人员 B 完成了一个特性，并将特性合入到了代码库。这时，开发人员 A 已经完成修复，当他向服务器直接推送代码的时候，报错： 'non-fast forward'，解决的办法如下

 * 本地更新代码后，本地执行 rebase 操作，然后在推送
 * 本地更新代码后，本地执行 merge 操作，然后在推送

## 错误的推送到了其他的 project

本地完成了一个 commit ，结果向另外一个 project 推送，此时会报错：'non-fast forward'。


如果想要本地的 commit 覆盖服务器端的 commit，那么用户需要有 push 的 `--force` 的权限。

